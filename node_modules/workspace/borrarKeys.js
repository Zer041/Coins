const secureRandom = require('secure-random');

const ec = require('elliptic').ec;
const ecdsa = new ec('secp256k1');


const max = Buffer.from("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364140", 'hex');  
let isInvalid = true;  
let privateKey;  
while (isInvalid) {    
  privateKey = secureRandom.randomBuffer(32);
  console.log(privateKey);
  if (Buffer.compare(max, privateKey) === 1) {      
    isInvalid = false;     
  }  

}
console.log('> Private key: ', privateKey.toString('hex'));

const keys = ecdsa.keyFromPrivate(privateKey);  
const publicKey = keys.getPublic('hex');  
console.log('> Public key created: ', publicKey);